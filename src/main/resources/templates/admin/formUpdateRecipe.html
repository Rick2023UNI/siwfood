<!DOCTYPE html>
<html>  <head>
    <title>Nuova ricetta</title>
    <link rel="stylesheet" href="/stile.css?version=3" />
    <script src="js/3.7.1_jquery.min.js"></script>
  </head>
  <body>
    <h1>Aggiungi una ricetta</h1>
    <form th:action="@{'/admin/updateRecipe/'+${recipe.id}}" method="POST" th:object="${recipe}" enctype="multipart/form-data">
<div>
        Nome: <span><input required type="text" th:field="${recipe.name}"/></span>
      </div>
      <div>
        Descrizione: <span><input required type="text" th:field="${recipe.description}"/></span>
      </div>
      <div>
        Immagini ricetta: <span><input required type="file" name='fileImage' id="fileImage" accept="image/png, image/jpeg" /></span>
      </div>
      <br>
      <div>
		  <img id="thumbnail" alt="Image Preview"/>
	  </div>
      <div>
        <span><button type="submit">Conferma</button></span>
      </div>
    </form>
  </body>
  <script type="text/javascript">
	$(document).ready(function() {
		$('#fileImage').change(function () {
			showImageThumbnail(this);
		});
	});
	
	function showImageThumbnail(fileInput) {
		file =fileInput.files[0];
		reader = new FileReader();
		
		reader.onload = function(e) {
			$('#thumbnail').attr('src', e.target.result);
		};
		
		reader.readAsDataURL(file);
	}
</script>
</html>
