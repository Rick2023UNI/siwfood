<!DOCTYPE html>
<html>

<head>
	<title>
		SiwFood - Homepage
	</title>
	<link rel="stylesheet" href="/css/index.css?version=3"/>
	
	<link rel="stylesheet" href="/css/admin/_new.css"/>
</head>

<body>
	<section id="Home">
    <nav>
        <div class="logo">
            <img src="image/logo.png">
        </div>
        <ul>
            <li><a href="/cooks">Lista cuochi</a></li>
            <li><a href="/searchRecipes">Cerca ricette per ingredienti</a></li>
        </ul>

        <div class="">
			<a th:if="${userDetails!=null}" th:text="${cookDetails.name} + ', ' + ${cookDetails.surname}" th:href="@{'/cook/' + ${cookDetails.id}}"></a>
			<a th:if="${userDetails!=null}" href="/logout" id="logout">Esci</a>
			<a th:unless="${userDetails!=null}" href="/login" id="login">Accedi</a>
			<a th:unless="${userDetails!=null}" href="/register" id="register">Registrati</a>
		</div>

    </nav>
	</section>
<br>
<form th:action="@{/}" method="post">
	<input id="search" type="text" th:value="${name}" name="name" placeholder="Nome ricetta"/>
	<button id="submit" type="submit">Cerca</button>
 </form>
<br>
	<div th:if="${recipes==null || recipes.isEmpty()}">Non ci sono ricette nel sistema</div>
	<div th:if="${userDetails!=null}" class="new">
		<a href="/newRecipe"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon">
				<path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>Aggiungi ricetta</a>
	</div>
	<ul clss="list">
			<li th:each="recipe : ${recipes}" class="listItem">
				<div class="recipe">
					<img th:src="@{${recipe.images[0].getImagePath}}" class="recipeImage">
					<div class="recipe-information">
						<a th:href="@{'/recipe/' + ${recipe.id}}" th:text="${recipe.name}" class="linkRecipe"></a>
						<p th:text="${recipe.description}"></p>
						<span th:text="'Ingredienti usati: ' + ${recipe.quantities.size()}">
					</div>
				</div>
				<div class="cook">
					<img th:src="@{${recipe.cook.photo.getImagePath}}" class="cookImage">
					<a th:href="@{'/cook/' + ${recipe.cook.id}}" th:text="@{${recipe.cook.name} + ' ' + ${recipe.cook.surname}}" class="cookLink"></a>
				</div>
				<span th:text='${#dates.format(recipe.publicationDate, "yyyy-MM-dd HH:mm")}' class="date"></span>
			</li>
		</ul>
</body>

</html>