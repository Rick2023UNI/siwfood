<!DOCTYPE html>
<html>

<head>
	<title>
		SiwFood - Homepage
	</title>
	<link rel="stylesheet" href="/css/index.css?version=3"/>
	
	<link rel="stylesheet" href="/css/admin/_new.css"/>
</head>

<body>
	<section id="Home">
    <nav>
        <div class="logo">
            <img src="image/logo.png">
        </div>
        <ul>
            <li><a href="/cooks">Lista cuochi</a></li>
            <li><a href="/searchRecipes">Cerca ricette per ingredienti</a></li>
        </ul>

        <div class="">
			<a th:if="${userDetails!=null}" th:href="@{'/cook/' + ${cookDetails.id}}" id="account">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
				  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
				  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
				</svg>
			</a>
			<a th:if="${userDetails!=null}" href="/logout" id="logout">Esci</a>
			<a th:unless="${userDetails!=null}" href="/login" id="login">Accedi</a>
			<a th:unless="${userDetails!=null}" href="/register" id="register">Registrati</a>
		</div>

    </nav>
	</section>
<br>
<form th:action="@{/}" method="post">
	<input id="search" type="text" th:value="${name}" name="name" placeholder="Nome ricetta"/>
	<button id="submit" type="submit">Cerca</button>
 </form>
<br>
	<div th:if="${recipes==null || recipes.isEmpty()}">Non ci sono ricette nel sistema</div>
	<div th:if="${userDetails!=null}" class="new">
		<a href="/newRecipe"><svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon">
				<path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>Aggiungi ricetta</a>
	</div>
	<ul clss="list">
			<li th:each="recipe : ${recipes}" class="listItem">
				<div class="recipe">
					<img th:src="@{${recipe.images[0].getImagePath}}" class="recipeImage">
					<div class="recipe-information">
						<a th:href="@{'/recipe/' + ${recipe.id}}" th:text="${recipe.name}" class="linkRecipe"></a>
						<p th:text="${recipe.description}" class="description"></p>
						<span th:text="'Ingredienti usati: ' + ${recipe.quantities.size()}" class="numberOfIngredients"></span>
					</div>
				</div>
				<div class="cook">
					<img th:src="@{${recipe.cook.photo.getImagePath}}" class="cookImage">
					<a th:href="@{'/cook/' + ${recipe.cook.id}}" th:text="@{${recipe.cook.name} + ' ' + ${recipe.cook.surname}}" class="cookLink"></a>
				</div>
				<span th:text='${#dates.format(recipe.publicationDate, "yyyy-MM-dd HH:mm")}' class="date"></span>
			</li>
		</ul>
</body>
</html>