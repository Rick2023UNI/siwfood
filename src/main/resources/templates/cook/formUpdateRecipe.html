<!DOCTYPE html>
<html>  
	<head>
    <title>Nuova ricetta</title>
    <link rel="stylesheet" href="/css/cook/formUpdateRecipe.css?version=3" />
    <script src="/js/3.7.1_jquery.min.js"></script>
    <script src="/js/cook/formUpdateRecipe.js"></script>
	<script src="/js/imagePreview.js"></script>
  </head>
  <body>
    <h1>Aggiungi una ricetta</h1>
    <form th:action="@{'/updateRecipe/'+${recipe.id}}" method="POST" th:object="${recipe}" enctype="multipart/form-data">
	<div>
        Nome<span><input type="text" th:field="${recipe.name}" placeholder="Nome" class="input"/></span>
      </div>
      <div>
        Descrizione<span><textarea type="text" th:field="${recipe.description}" placeholder="Scrivi un testo che descriva il piatto..." class="description"/></span>
      </div>
      <div>
		<div th:if="${images==null || images.isEmpty()}">Non ci sono immagini per la ricetta corrente</div>
				<ul class="images">
					<li th:each="image : ${images}" class="ingredient">
						<img th:src="@{${image.getImagePath}}" class="image">
						<div class="container">
							<a th:href="@{/removeImage/}+${recipe.id}+'/'+${image.id}" class="icon-button">
							<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon" id="delete">
							 <path d="M9 9L15 15M15 9L9 15M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</a>
						</div>
					</li>
				</ul>
				</div>
		Immagini ricetta aggiunte:
		<div id="images"> 
			<div id="image0" class="imageUpload">
				<input type="file" name='fileImage' id="fileImage0" accept="image/png, image/jpeg" class="fileImage"/>
				<label for="fileImage0" class="label">Carica file</label>
				<img id="thumbnail0"/>
				<a class="icon-button hidden fileImageRemove" id="fileImageRemove0">
				<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon" id="delete">
				 <path d="M9 9L15 15M15 9L9 15M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				</a>
	      </div>
	  </div>
      <br>
        <span><button type="submit" class="submit button">Conferma</button></span>
      </div>
   </form>
   <br>
   <br>
   <form th:action="@{/addQuantity/}+${recipe.id}" method="POST" enctype="multipart/form-data">
   	        <div>
   	          Quantit&agrave;: <span><input type="text" name='quantity' class="input"/></span>
   	        </div>
   	        <div>
   	          Ingrediente: <span><input type="text" name='name' class="input"/></span>
   	        </div>
   	        <div>
   	          Immagine ingrediente:
			  <input type="file" name='fileImage' id="fileImageIngredient" accept="image/png, image/jpeg" class="fileImage"/>
			  				<label for="fileImageIngredient" class="label">Carica file</label>
   	        <br>
   	        </div>
   	        <div>
   	  		  <img id="thumbnailIngredient"/>
   	  	  </div>
   	        <div>
   	          <span><button type="submit" class="button">Aggiungi</button></span>
   	        </div>
			</form>
			<div th:if="${quantities==null || quantities.isEmpty()}">Non ci sono ingredienti per la ricetta corrente</div>
			<ul class="ingredients">
				<li th:each="quantity : ${quantities}" class="quantity">
					<a  th:text="${quantity.quantity}+' '+${quantity.getIngredient().name} " class="ingredientLink"></a>
					<img th:src="@{${quantity.ingredient.image.getImagePath}}" class="ingredientImage">
					<a th:href="@{/removeQuantity/}+${recipe.id}+'/'+${quantity.id}" class="icon-button middle">
												<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon" id="delete">
												 <path d="M9 9L15 15M15 9L9 15M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</a>
				</li>
			</ul>
  </body>
</html>
